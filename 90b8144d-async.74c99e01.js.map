{"version":3,"sources":["components/form/demo/validate-only.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/form/demo/validate-only.tsx?watch=parent';import React from 'react';\nimport type { FormInstance } from 'antd';\nimport { Button, Form, Input, Space } from 'antd';\n\ninterface SubmitButtonProps {\n  form: FormInstance;\n}\n\nconst SubmitButton: React.FC<React.PropsWithChildren<SubmitButtonProps>> = ({ form, children }) => {\n  const [submittable, setSubmittable] = React.useState<boolean>(false);\n\n  // Watch all values\n  const values = Form.useWatch([], form);\n\n  React.useEffect(() => {\n    form\n      .validateFields({ validateOnly: true })\n      .then(() => setSubmittable(true))\n      .catch(() => setSubmittable(false));\n  }, [form, values]);\n\n  return (\n    <Button type=\"primary\" htmlType=\"submit\" disabled={!submittable}>\n      {children}\n    </Button>\n  );\n};\n\nconst App: React.FC = () => {\n  const [form] = Form.useForm();\n  return (\n    <Form form={form} name=\"validateOnly\" layout=\"vertical\" autoComplete=\"off\">\n      <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"age\" label=\"Age\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item>\n        <Space>\n          <SubmitButton form={form}>Submit</SubmitButton>\n          <Button htmlType=\"reset\">Reset</Button>\n        </Space>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOAgDA,+CAAA,4CAhDO,wBAAgH,iBAE5E,YAM3C,IAAM,EAAqE,CAAC,CAAE,KAAA,CAAI,CAAE,SAAA,CAAQ,CAAE,IAC5F,GAAM,CAAC,EAAa,EAAe,CAAG,SAAK,CAAC,QAAQ,CAAU,CAAA,GAGxD,EAAS,MAAI,CAAC,QAAQ,CAAC,EAAE,CAAE,GASjC,OAPA,SAAK,CAAC,SAAS,CAAC,KACd,EACG,cAAc,CAAC,CAAE,aAAc,CAAA,CAAK,GACpC,IAAI,CAAC,IAAM,EAAe,CAAA,IAC1B,KAAK,CAAC,IAAM,EAAe,CAAA,IAChC,EAAG,CAAC,EAAM,EAAO,EAGf,UAAC,QAAM,EAAC,KAAK,UAAU,SAAS,SAAS,SAAU,CAAC,WACjD,IAGP,MAsBA,EApBsB,KACpB,GAAM,CAAC,EAAK,CAAG,MAAI,CAAC,OAAO,GAC3B,MACE,WAAC,MAAI,EAAC,KAAM,EAAM,KAAK,eAAe,OAAO,WAAW,aAAa,gBACnE,UAAC,MAAI,CAAC,IAAI,EAAC,KAAK,OAAO,MAAM,OAAO,MAAO,CAAC,CAAE,SAAU,CAAA,CAAK,EAAE,UAC7D,UAAC,OAAK,OAER,UAAC,MAAI,CAAC,IAAI,EAAC,KAAK,MAAM,MAAM,MAAM,MAAO,CAAC,CAAE,SAAU,CAAA,CAAK,EAAE,UAC3D,UAAC,OAAK,OAER,UAAC,MAAI,CAAC,IAAI,WACR,WAAC,OAAK,YACJ,UAAC,GAAa,KAAM,WAAM,WAC1B,UAAC,QAAM,EAAC,SAAS,iBAAQ,kBAKnC"}