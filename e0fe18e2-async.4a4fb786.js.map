{"version":3,"sources":["components/tree/demo/dynamic.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/tree/demo/dynamic.tsx?watch=parent';import React, { useState } from 'react';\nimport { Tree } from 'antd';\n\ninterface DataNode {\n  title: string;\n  key: string;\n  isLeaf?: boolean;\n  children?: DataNode[];\n}\n\nconst initTreeData: DataNode[] = [\n  { title: 'Expand to load', key: '0' },\n  { title: 'Expand to load', key: '1' },\n  { title: 'Tree Node', key: '2', isLeaf: true },\n];\n\n// It's just a simple demo. You can use tree map to optimize update perf.\nconst updateTreeData = (list: DataNode[], key: React.Key, children: DataNode[]): DataNode[] =>\n  list.map((node) => {\n    if (node.key === key) {\n      return {\n        ...node,\n        children,\n      };\n    }\n    if (node.children) {\n      return {\n        ...node,\n        children: updateTreeData(node.children, key, children),\n      };\n    }\n    return node;\n  });\n\nconst App: React.FC = () => {\n  const [treeData, setTreeData] = useState(initTreeData);\n\n  const onLoadData = ({ key, children }: any) =>\n    new Promise<void>((resolve) => {\n      if (children) {\n        resolve();\n        return;\n      }\n      setTimeout(() => {\n        setTreeData((origin) =>\n          updateTreeData(origin, key, [\n            { title: 'Child Node', key: `${key}-0` },\n            { title: 'Child Node', key: `${key}-1` },\n          ]),\n        );\n\n        resolve();\n      }, 1000);\n    });\n\n  return <Tree loadData={onLoadData} treeData={treeData} />;\n};\n\nexport default App;\n"],"names":[],"mappings":"qOA0DA,+CAAA,4BA1DO,oBAAwH,gBAC1G,YASrB,IAAM,EAA2B,CAC/B,CAAE,MAAO,iBAAkB,IAAK,GAAI,EACpC,CAAE,MAAO,iBAAkB,IAAK,GAAI,EACpC,CAAE,MAAO,YAAa,IAAK,IAAK,OAAQ,CAAA,CAAK,EAC9C,CAGK,EAAiB,CAAC,EAAkB,EAAgB,IACxD,EAAK,GAAG,CAAC,AAAC,GACR,AAAI,EAAK,GAAG,GAAK,EACR,CACL,GAAG,CAAI,CACP,SAAA,CACF,EAEE,EAAK,QAAQ,CACR,CACL,GAAG,CAAI,CACP,SAAU,EAAe,EAAK,QAAQ,CAAE,EAAK,EAC/C,EAEK,OA2BX,EAxBsB,KACpB,GAAM,CAAC,EAAU,EAAY,CAAG,GAAA,UAAQ,EAAC,GAoBzC,MAAO,UAAC,MAAI,EAAC,SAlBM,CAAC,CAAE,IAAA,CAAG,CAAE,SAAA,CAAQ,CAAO,GACxC,IAAI,QAAc,AAAC,IACjB,GAAI,EAAU,CACZ,IACA,OACF,CACA,WAAW,KACT,EAAY,AAAC,GACX,EAAe,EAAQ,EAAK,CAC1B,CAAE,MAAO,aAAc,IAAK,CAAC,EAAE,EAAI,EAAE,CAAC,AAAC,EACvC,CAAE,MAAO,aAAc,IAAK,CAAC,EAAE,EAAI,EAAE,CAAC,AAAC,EACxC,GAGH,IACF,EAAG,KACL,GAEiC,SAAU,IAC/C"}