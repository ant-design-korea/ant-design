{"version":3,"sources":["components/upload/demo/transform-file.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/upload/demo/transform-file.tsx?watch=parent';import React from 'react';\nimport { UploadOutlined } from '@ant-design/icons';\nimport type { UploadProps } from 'antd';\nimport { Button, Upload } from 'antd';\n\nconst props: UploadProps = {\n  action: 'https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload',\n  listType: 'picture',\n  beforeUpload(file) {\n    return new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const img = document.createElement('img');\n        img.src = reader.result as string;\n        img.onload = () => {\n          const canvas = document.createElement('canvas');\n          canvas.width = img.naturalWidth;\n          canvas.height = img.naturalHeight;\n          const ctx = canvas.getContext('2d')!;\n          ctx.drawImage(img, 0, 0);\n          ctx.fillStyle = 'red';\n          ctx.textBaseline = 'middle';\n          ctx.font = '33px Arial';\n          ctx.fillText('Ant Design', 20, 20);\n          canvas.toBlob((result) => resolve(result as Blob));\n        };\n      };\n    });\n  },\n};\n\nconst App: React.FC = () => (\n  <Upload {...props}>\n    <Button icon={<UploadOutlined />}>Upload</Button>\n  </Upload>\n);\n\nexport default App;\n"],"names":[],"mappings":"uOAsCA,+CAAA,4BAtCO,oBACwB,gBAEA,YAE/B,IAAM,EAAqB,CACzB,OAAQ,yDACR,SAAU,UACV,aAAA,AAAa,GACJ,IAAI,QAAQ,AAAC,IAClB,IAAM,EAAS,IAAI,WACnB,EAAO,aAAa,CAAC,GACrB,EAAO,MAAM,CAAG,KACd,IAAM,EAAM,SAAS,aAAa,CAAC,OACnC,EAAI,GAAG,CAAG,EAAO,MAAM,CACvB,EAAI,MAAM,CAAG,KACX,IAAM,EAAS,SAAS,aAAa,CAAC,UACtC,EAAO,KAAK,CAAG,EAAI,YAAY,CAC/B,EAAO,MAAM,CAAG,EAAI,aAAa,CACjC,IAAM,EAAM,EAAO,UAAU,CAAC,MAC9B,EAAI,SAAS,CAAC,EAAK,EAAG,GACtB,EAAI,SAAS,CAAG,MAChB,EAAI,YAAY,CAAG,SACnB,EAAI,IAAI,CAAG,aACX,EAAI,QAAQ,CAAC,aAAc,GAAI,IAC/B,EAAO,MAAM,CAAC,AAAC,GAAW,EAAQ,IACpC,EACF,EACF,EAEJ,MAQA,EANsB,IACpB,UAAC,QAAM,EAAE,GAAG,CAAK,UACf,UAAC,QAAM,EAAC,KAAM,UAAC,gBAAc,cAAK"}