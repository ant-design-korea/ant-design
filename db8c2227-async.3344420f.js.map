{"version":3,"sources":["components/qr-code/demo/download.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/qr-code/demo/download.tsx?watch=parent';import React from 'react';\nimport { Button, QRCode, Segmented, Space } from 'antd';\nimport type { QRCodeProps } from 'antd';\n\nfunction doDownload(url: string, fileName: string) {\n  const a = document.createElement('a');\n  a.download = fileName;\n  a.href = url;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n\nconst downloadCanvasQRCode = () => {\n  const canvas = document.getElementById('myqrcode')?.querySelector<HTMLCanvasElement>('canvas');\n  if (canvas) {\n    const url = canvas.toDataURL();\n    doDownload(url, 'QRCode.png');\n  }\n};\n\nconst downloadSvgQRCode = () => {\n  const svg = document.getElementById('myqrcode')?.querySelector<SVGElement>('svg');\n  const svgData = new XMLSerializer().serializeToString(svg!);\n  const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\n  const url = URL.createObjectURL(blob);\n\n  doDownload(url, 'QRCode.svg');\n};\n\nconst App: React.FC = () => {\n  const [renderType, setRenderType] = React.useState<QRCodeProps['type']>('canvas');\n  return (\n    <Space id=\"myqrcode\" direction=\"vertical\">\n      <Segmented\n        options={['canvas', 'svg']}\n        onChange={(val) => setRenderType(val as QRCodeProps['type'])}\n      />\n      <div>\n        <QRCode\n          type={renderType}\n          value=\"https://ant.design/\"\n          bgColor=\"#fff\"\n          style={{ marginBottom: 16 }}\n          icon=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"\n        />\n        <Button\n          type=\"primary\"\n          onClick={renderType === 'canvas' ? downloadCanvasQRCode : downloadSvgQRCode}\n        >\n          Download\n        </Button>\n      </div>\n    </Space>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"qOAyDA,+CAAA,4CAzDO,wBAA8G,iBACpE,YAGjD,SAAS,EAAW,CAAW,CAAE,CAAgB,EAC/C,IAAM,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,QAAQ,CAAG,EACb,EAAE,IAAI,CAAG,EACT,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,EAAE,KAAK,GACP,SAAS,IAAI,CAAC,WAAW,CAAC,GAC5B,CAEA,IAAM,EAAuB,SACZ,EAAf,IAAM,UAAS,EAAA,SAAS,cAAc,CAAC,uBAAxB,SAAA,EAAqC,aAAa,CAAoB,UACrF,GAAI,EAAQ,CACV,IAAM,EAAM,EAAO,SAAS,GAC5B,EAAW,EAAK,cAClB,CACF,EAEM,EAAoB,SACZ,EAAZ,IAAM,UAAM,EAAA,SAAS,cAAc,CAAC,uBAAxB,SAAA,EAAqC,aAAa,CAAa,OACrE,EAAU,IAAI,gBAAgB,iBAAiB,CAAC,GAChD,EAAO,IAAI,KAAK,CAAC,EAAQ,CAAE,CAAE,KAAM,6BAA8B,GACjE,EAAM,IAAI,eAAe,CAAC,GAEhC,EAAW,EAAK,cAClB,MA6BA,EA3BsB,KACpB,GAAM,CAAC,EAAY,EAAc,CAAG,SAAK,CAAC,QAAQ,CAAsB,UACxE,MACE,WAAC,OAAK,EAAC,GAAG,WAAW,UAAU,qBAC7B,UAAC,WAAS,EACR,QAAS,CAAC,SAAU,MAAM,CAC1B,SAAU,AAAC,GAAQ,EAAc,KAEnC,WAAC,iBACC,UAAC,QAAM,EACL,KAAM,EACN,MAAM,sBACN,QAAQ,OACR,MAAO,CAAE,aAAc,EAAG,EAC1B,KAAK,wEAEP,UAAC,QAAM,EACL,KAAK,UACL,QAAS,AAAe,WAAf,EAA0B,EAAuB,WAC3D,mBAMT"}