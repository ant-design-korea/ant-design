{"version":3,"sources":["components/table/demo/resizable-column.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/table/demo/resizable-column.tsx?watch=parent';import React, { useState } from 'react';\nimport { Table } from 'antd';\nimport type { TableColumnsType } from 'antd';\nimport type { ResizeCallbackData } from 'react-resizable';\nimport { Resizable } from 'react-resizable';\n\ninterface DataType {\n  key: React.Key;\n  date: string;\n  amount: number;\n  type: string;\n  note: string;\n}\n\nconst ResizableTitle = (\n  props: React.HTMLAttributes<any> & {\n    onResize: (e: React.SyntheticEvent<Element>, data: ResizeCallbackData) => void;\n    width: number;\n  },\n) => {\n  const { onResize, width, ...restProps } = props;\n\n  if (!width) {\n    return <th {...restProps} />;\n  }\n\n  return (\n    <Resizable\n      width={width}\n      height={0}\n      handle={\n        <span\n          className=\"react-resizable-handle\"\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n        />\n      }\n      onResize={onResize}\n      draggableOpts={{ enableUserSelectHack: false }}\n    >\n      <th {...restProps} />\n    </Resizable>\n  );\n};\n\nconst App: React.FC = () => {\n  const [columns, setColumns] = useState<TableColumnsType<DataType>>([\n    {\n      title: 'Date',\n      dataIndex: 'date',\n      width: 200,\n    },\n    {\n      title: 'Amount',\n      dataIndex: 'amount',\n      width: 100,\n      sorter: (a, b) => a.amount - b.amount,\n    },\n    {\n      title: 'Type',\n      dataIndex: 'type',\n      width: 100,\n    },\n    {\n      title: 'Note',\n      dataIndex: 'note',\n      width: 100,\n    },\n    {\n      title: 'Action',\n      key: 'action',\n      render: () => <a>Delete</a>,\n    },\n  ]);\n  const data: DataType[] = [\n    {\n      key: 0,\n      date: '2018-02-11',\n      amount: 120,\n      type: 'income',\n      note: 'transfer',\n    },\n    {\n      key: 1,\n      date: '2018-03-11',\n      amount: 243,\n      type: 'income',\n      note: 'transfer',\n    },\n    {\n      key: 2,\n      date: '2018-04-11',\n      amount: 98,\n      type: 'income',\n      note: 'transfer',\n    },\n  ];\n\n  const handleResize =\n    (index: number) =>\n    (_: React.SyntheticEvent<Element>, { size }: ResizeCallbackData) => {\n      const newColumns = [...columns];\n      newColumns[index] = {\n        ...newColumns[index],\n        width: size.width,\n      };\n      setColumns(newColumns);\n    };\n\n  const mergedColumns = columns.map<TableColumnsType<DataType>[number]>((col, index) => ({\n    ...col,\n    onHeaderCell: (column: TableColumnsType<DataType>[number]) => ({\n      width: column.width,\n      onResize: handleResize(index) as React.ReactEventHandler<any>,\n    }),\n  }));\n\n  return (\n    <Table\n      bordered\n      components={{\n        header: {\n          cell: ResizableTitle,\n        },\n      }}\n      columns={mergedColumns}\n      dataSource={data}\n    />\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOAoIA,+CAAA,4BApIO,oBAAkI,gBACnH,gBAGI,YAU1B,IAAM,EAAiB,AACrB,IAKA,GAAM,CAAE,SAAA,CAAQ,CAAE,MAAA,CAAK,CAAE,GAAG,EAAW,CAAG,SAE1C,AAAK,EAKH,UAAC,WAAS,EACR,MAAO,EACP,OAAQ,EACR,OACE,UAAC,QACC,UAAU,yBACV,QAAS,AAAC,IACR,EAAE,eAAe,GACnB,IAGJ,SAAU,EACV,cAAe,CAAE,qBAAsB,CAAA,CAAM,WAE7C,UAAC,MAAI,GAAG,CAAS,KAlBZ,UAAC,MAAI,GAAG,CAAS,GAqB5B,MAwFA,EAtFsB,KACpB,GAAM,CAAC,EAAS,EAAW,CAAG,GAAA,UAAQ,EAA6B,CACjE,CACE,MAAO,OACP,UAAW,OACX,MAAO,GACT,EACA,CACE,MAAO,SACP,UAAW,SACX,MAAO,IACP,OAAQ,CAAC,EAAG,IAAM,EAAE,MAAM,CAAG,EAAE,MAAM,AACvC,EACA,CACE,MAAO,OACP,UAAW,OACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,OACX,MAAO,GACT,EACA,CACE,MAAO,SACP,IAAK,SACL,OAAQ,IAAM,UAAC,cAAE,UACnB,EACD,EAyBK,EACJ,AAAC,GACD,CAAC,EAAkC,CAAE,KAAA,CAAI,CAAsB,IAC7D,IAAM,EAAa,IAAI,EAAQ,CAC/B,CAAU,CAAC,EAAM,CAAG,CAClB,GAAG,CAAU,CAAC,EAAM,CACpB,MAAO,EAAK,KAAK,AACnB,EACA,EAAW,GACb,EAEI,EAAgB,EAAQ,GAAG,CAAqC,CAAC,EAAK,IAAW,CAAA,CACrF,GAAG,CAAG,CACN,aAAc,AAAC,GAAgD,CAAA,CAC7D,MAAO,EAAO,KAAK,CACnB,SAAU,EAAa,EACzB,CAAA,CACF,CAAA,GAEA,MACE,UAAC,OAAK,EACJ,QAAQ,IACR,WAAY,CACV,OAAQ,CACN,KAAM,CACR,CACF,EACA,QAAS,EACT,WApDqB,CACvB,CACE,IAAK,EACL,KAAM,aACN,OAAQ,IACR,KAAM,SACN,KAAM,UACR,EACA,CACE,IAAK,EACL,KAAM,aACN,OAAQ,IACR,KAAM,SACN,KAAM,UACR,EACA,CACE,IAAK,EACL,KAAM,aACN,OAAQ,GACR,KAAM,SACN,KAAM,UACR,EACD,GAiCH"}