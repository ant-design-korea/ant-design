{"version":3,"sources":["components/tabs/demo/editable-card.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/tabs/demo/editable-card.tsx?watch=parent';import React, { useRef, useState } from 'react';\nimport { Tabs } from 'antd';\n\ntype TargetKey = React.MouseEvent | React.KeyboardEvent | string;\n\nconst initialItems = [\n  { label: 'Tab 1', children: 'Content of Tab 1', key: '1' },\n  { label: 'Tab 2', children: 'Content of Tab 2', key: '2' },\n  {\n    label: 'Tab 3',\n    children: 'Content of Tab 3',\n    key: '3',\n    closable: false,\n  },\n];\n\nconst App: React.FC = () => {\n  const [activeKey, setActiveKey] = useState(initialItems[0].key);\n  const [items, setItems] = useState(initialItems);\n  const newTabIndex = useRef(0);\n\n  const onChange = (newActiveKey: string) => {\n    setActiveKey(newActiveKey);\n  };\n\n  const add = () => {\n    const newActiveKey = `newTab${newTabIndex.current++}`;\n    const newPanes = [...items];\n    newPanes.push({ label: 'New Tab', children: 'Content of new Tab', key: newActiveKey });\n    setItems(newPanes);\n    setActiveKey(newActiveKey);\n  };\n\n  const remove = (targetKey: TargetKey) => {\n    let newActiveKey = activeKey;\n    let lastIndex = -1;\n    items.forEach((item, i) => {\n      if (item.key === targetKey) {\n        lastIndex = i - 1;\n      }\n    });\n    const newPanes = items.filter((item) => item.key !== targetKey);\n    if (newPanes.length && newActiveKey === targetKey) {\n      if (lastIndex >= 0) {\n        newActiveKey = newPanes[lastIndex].key;\n      } else {\n        newActiveKey = newPanes[0].key;\n      }\n    }\n    setItems(newPanes);\n    setActiveKey(newActiveKey);\n  };\n\n  const onEdit = (\n    targetKey: React.MouseEvent | React.KeyboardEvent | string,\n    action: 'add' | 'remove',\n  ) => {\n    if (action === 'add') {\n      add();\n    } else {\n      remove(targetKey);\n    }\n  };\n\n  return (\n    <Tabs\n      type=\"editable-card\"\n      onChange={onChange}\n      activeKey={activeKey}\n      onEdit={onEdit}\n      items={items}\n    />\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOA2EA,+CAAA,4BA3EO,oBAAsI,gBACxH,YAIrB,IAAM,EAAe,CACnB,CAAE,MAAO,QAAS,SAAU,mBAAoB,IAAK,GAAI,EACzD,CAAE,MAAO,QAAS,SAAU,mBAAoB,IAAK,GAAI,EACzD,CACE,MAAO,QACP,SAAU,mBACV,IAAK,IACL,SAAU,CAAA,CACZ,EACD,KA6DD,EA3DsB,KACpB,GAAM,CAAC,EAAW,EAAa,CAAG,GAAA,UAAQ,EAAC,CAAY,CAAC,EAAE,CAAC,GAAG,EACxD,CAAC,EAAO,EAAS,CAAG,GAAA,UAAQ,EAAC,GAC7B,EAAc,GAAA,QAAM,EAAC,GAMrB,EAAM,KACV,IAAM,EAAe,CAAC,MAAM,EAAE,EAAY,OAAO,GAAG,CAAC,CAC/C,EAAW,IAAI,EAAM,CAC3B,EAAS,IAAI,CAAC,CAAE,MAAO,UAAW,SAAU,qBAAsB,IAAK,CAAa,GACpF,EAAS,GACT,EAAa,GACf,EAEM,EAAS,AAAC,IACd,IAAI,EAAe,EACf,EAAY,GAChB,EAAM,OAAO,CAAC,CAAC,EAAM,KACf,EAAK,GAAG,GAAK,GACf,CAAA,EAAY,EAAI,CAAA,EAEpB,GACA,IAAM,EAAW,EAAM,MAAM,CAAC,AAAC,GAAS,EAAK,GAAG,GAAK,GACjD,EAAS,MAAM,EAAI,IAAiB,IAEpC,EADE,GAAa,EACA,CAAQ,CAAC,EAAU,CAAC,GAAG,CAEvB,CAAQ,CAAC,EAAE,CAAC,GAAG,EAGlC,EAAS,GACT,EAAa,GACf,EAaA,MACE,UAAC,MAAI,EACH,KAAK,gBACL,SA9Ca,AAAC,IAChB,EAAa,GACf,EA6CI,UAAW,EACX,OAhBW,CACb,EACA,KAEI,AAAW,QAAX,EACF,IAEA,EAAO,GAEX,EAQI,MAAO,IAGb"}