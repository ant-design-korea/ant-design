{"version":3,"sources":["components/menu/demo/sider-current.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/menu/demo/sider-current.tsx?watch=parent';import React, { useState } from 'react';\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\nimport type { MenuProps } from 'antd';\nimport { Menu } from 'antd';\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nconst items: MenuItem[] = [\n  {\n    key: '1',\n    icon: <MailOutlined />,\n    label: 'Navigation One',\n    children: [\n      { key: '11', label: 'Option 1' },\n      { key: '12', label: 'Option 2' },\n      { key: '13', label: 'Option 3' },\n      { key: '14', label: 'Option 4' },\n    ],\n  },\n  {\n    key: '2',\n    icon: <AppstoreOutlined />,\n    label: 'Navigation Two',\n    children: [\n      { key: '21', label: 'Option 1' },\n      { key: '22', label: 'Option 2' },\n      {\n        key: '23',\n        label: 'Submenu',\n        children: [\n          { key: '231', label: 'Option 1' },\n          { key: '232', label: 'Option 2' },\n          { key: '233', label: 'Option 3' },\n        ],\n      },\n      {\n        key: '24',\n        label: 'Submenu 2',\n        children: [\n          { key: '241', label: 'Option 1' },\n          { key: '242', label: 'Option 2' },\n          { key: '243', label: 'Option 3' },\n        ],\n      },\n    ],\n  },\n  {\n    key: '3',\n    icon: <SettingOutlined />,\n    label: 'Navigation Three',\n    children: [\n      { key: '31', label: 'Option 1' },\n      { key: '32', label: 'Option 2' },\n      { key: '33', label: 'Option 3' },\n      { key: '34', label: 'Option 4' },\n    ],\n  },\n];\n\ninterface LevelKeysProps {\n  key?: string;\n  children?: LevelKeysProps[];\n}\n\nconst getLevelKeys = (items1: LevelKeysProps[]) => {\n  const key: Record<string, number> = {};\n  const func = (items2: LevelKeysProps[], level = 1) => {\n    items2.forEach((item) => {\n      if (item.key) {\n        key[item.key] = level;\n      }\n      if (item.children) {\n        func(item.children, level + 1);\n      }\n    });\n  };\n  func(items1);\n  return key;\n};\n\nconst levelKeys = getLevelKeys(items as LevelKeysProps[]);\n\nconst App: React.FC = () => {\n  const [stateOpenKeys, setStateOpenKeys] = useState(['2', '23']);\n\n  const onOpenChange: MenuProps['onOpenChange'] = (openKeys) => {\n    const currentOpenKey = openKeys.find((key) => stateOpenKeys.indexOf(key) === -1);\n    // open\n    if (currentOpenKey !== undefined) {\n      const repeatIndex = openKeys\n        .filter((key) => key !== currentOpenKey)\n        .findIndex((key) => levelKeys[key] === levelKeys[currentOpenKey]);\n\n      setStateOpenKeys(\n        openKeys\n          // remove repeat key\n          .filter((_, index) => index !== repeatIndex)\n          // remove current level all child\n          .filter((key) => levelKeys[key] <= levelKeys[currentOpenKey]),\n      );\n    } else {\n      // close\n      setStateOpenKeys(openKeys);\n    }\n  };\n\n  return (\n    <Menu\n      mode=\"inline\"\n      defaultSelectedKeys={['231']}\n      openKeys={stateOpenKeys}\n      onOpenChange={onOpenChange}\n      style={{ width: 256 }}\n      items={items}\n    />\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOAsHA,+CAAA,4BAtHO,oBAA8H,gBACrE,gBAE3C,YAIrB,IAAM,EAAoB,CACxB,CACE,IAAK,IACL,KAAM,UAAC,cAAY,KACnB,MAAO,iBACP,SAAU,CACR,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAChC,AACH,EACA,CACE,IAAK,IACL,KAAM,UAAC,kBAAgB,KACvB,MAAO,iBACP,SAAU,CACR,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CACE,IAAK,KACL,MAAO,UACP,SAAU,CACR,CAAE,IAAK,MAAO,MAAO,UAAW,EAChC,CAAE,IAAK,MAAO,MAAO,UAAW,EAChC,CAAE,IAAK,MAAO,MAAO,UAAW,EACjC,AACH,EACA,CACE,IAAK,KACL,MAAO,YACP,SAAU,CACR,CAAE,IAAK,MAAO,MAAO,UAAW,EAChC,CAAE,IAAK,MAAO,MAAO,UAAW,EAChC,CAAE,IAAK,MAAO,MAAO,UAAW,EACjC,AACH,EACD,AACH,EACA,CACE,IAAK,IACL,KAAM,UAAC,iBAAe,KACtB,MAAO,mBACP,SAAU,CACR,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAC/B,CAAE,IAAK,KAAM,MAAO,UAAW,EAChC,AACH,EACD,CAuBK,EAAY,AAhBG,CAAA,AAAC,IACpB,IAAM,EAA8B,CAAC,EAC/B,EAAO,CAAC,EAA0B,EAAQ,CAAC,IAC/C,EAAO,OAAO,CAAC,AAAC,IACV,EAAK,GAAG,EACV,CAAA,CAAG,CAAC,EAAK,GAAG,CAAC,CAAG,CAAI,EAElB,EAAK,QAAQ,EACf,EAAK,EAAK,QAAQ,CAAE,EAAQ,GAEhC,GACF,EAEA,OADA,EAAK,GACE,EACT,CAAA,EAE+B,OAsC/B,EApCsB,KACpB,GAAM,CAAC,EAAe,EAAiB,CAAG,GAAA,UAAQ,EAAC,CAAC,IAAK,KAAK,EAuB9D,MACE,UAAC,MAAI,EACH,KAAK,SACL,oBAAqB,CAAC,MAAM,CAC5B,SAAU,EACV,aA1B4C,AAAC,IAC/C,IAAM,EAAiB,EAAS,IAAI,CAAC,AAAC,GAAQ,AAA+B,KAA/B,EAAc,OAAO,CAAC,IAEpE,GAAI,AAAmB,KAAA,IAAnB,EAA8B,CAChC,IAAM,EAAc,EACjB,MAAM,CAAC,AAAC,GAAQ,IAAQ,GACxB,SAAS,CAAC,AAAC,GAAQ,CAAS,CAAC,EAAI,GAAK,CAAS,CAAC,EAAe,EAElE,EACE,EAEG,MAAM,CAAC,CAAC,EAAG,IAAU,IAAU,GAE/B,MAAM,CAAC,AAAC,GAAQ,CAAS,CAAC,EAAI,EAAI,CAAS,CAAC,EAAe,GAElE,MAEE,EAAiB,GAErB,EAQI,MAAO,CAAE,MAAO,GAAI,EACpB,MAAO,IAGb"}