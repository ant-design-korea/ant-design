{"version":3,"sources":["components/list/demo/loadmore.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/list/demo/loadmore.tsx?watch=parent';import React, { useEffect, useState } from 'react';\nimport { Avatar, Button, List, Skeleton } from 'antd';\n\ninterface DataType {\n  gender?: string;\n  name: {\n    title?: string;\n    first?: string;\n    last?: string;\n  };\n  email?: string;\n  picture: {\n    large?: string;\n    medium?: string;\n    thumbnail?: string;\n  };\n  nat?: string;\n  loading: boolean;\n}\n\nconst count = 3;\nconst fakeDataUrl = `https://randomuser.me/api/?results=${count}&inc=name,gender,email,nat,picture&noinfo`;\n\nconst App: React.FC = () => {\n  const [initLoading, setInitLoading] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState<DataType[]>([]);\n  const [list, setList] = useState<DataType[]>([]);\n\n  useEffect(() => {\n    fetch(fakeDataUrl)\n      .then((res) => res.json())\n      .then((res) => {\n        setInitLoading(false);\n        setData(res.results);\n        setList(res.results);\n      });\n  }, []);\n\n  const onLoadMore = () => {\n    setLoading(true);\n    setList(\n      data.concat([...new Array(count)].map(() => ({ loading: true, name: {}, picture: {} }))),\n    );\n    fetch(fakeDataUrl)\n      .then((res) => res.json())\n      .then((res) => {\n        const newData = data.concat(res.results);\n        setData(newData);\n        setList(newData);\n        setLoading(false);\n        // Resetting window's offsetTop so as to display react-virtualized demo underfloor.\n        // In real scene, you can using public method of react-virtualized:\n        // https://stackoverflow.com/questions/46700726/how-to-use-public-method-updateposition-of-react-virtualized\n        window.dispatchEvent(new Event('resize'));\n      });\n  };\n\n  const loadMore =\n    !initLoading && !loading ? (\n      <div\n        style={{\n          textAlign: 'center',\n          marginTop: 12,\n          height: 32,\n          lineHeight: '32px',\n        }}\n      >\n        <Button onClick={onLoadMore}>loading more</Button>\n      </div>\n    ) : null;\n\n  return (\n    <List\n      className=\"demo-loadmore-list\"\n      loading={initLoading}\n      itemLayout=\"horizontal\"\n      loadMore={loadMore}\n      dataSource={list}\n      renderItem={(item) => (\n        <List.Item\n          actions={[<a key=\"list-loadmore-edit\">edit</a>, <a key=\"list-loadmore-more\">more</a>]}\n        >\n          <Skeleton avatar title={false} loading={item.loading} active>\n            <List.Item.Meta\n              avatar={<Avatar src={item.picture.large} />}\n              title={<a href=\"https://ant.design\">{item.name?.last}</a>}\n              description=\"Ant Design, a design language for background applications, is refined by Ant UED Team\"\n            />\n            <div>content</div>\n          </Skeleton>\n        </List.Item>\n      )}\n    />\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"qOAiGA,+CAAA,4BAjGO,oBAAoI,gBAC5F,YAoB/C,IAAM,EAAc,oFA4EpB,EA1EsB,KACpB,GAAM,CAAC,EAAa,EAAe,CAAG,GAAA,UAAQ,EAAC,CAAA,GACzC,CAAC,EAAS,EAAW,CAAG,GAAA,UAAQ,EAAC,CAAA,GACjC,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAa,EAAE,EACzC,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAa,EAAE,EAE/C,GAAA,WAAS,EAAC,KACR,MAAM,GACH,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,AAAC,IACL,EAAe,CAAA,GACf,EAAQ,EAAI,OAAO,EACnB,EAAQ,EAAI,OAAO,EACrB,GACJ,EAAG,EAAE,EAqBL,IAAM,EACJ,AAAC,GAAgB,EAWb,KAVF,UAAC,OACC,MAAO,CACL,UAAW,SACX,UAAW,GACX,OAAQ,GACR,WAAY,MACd,WAEA,UAAC,QAAM,EAAC,QA7BK,KACjB,EAAW,CAAA,GACX,EACE,EAAK,MAAM,CAAC,sBAAqB,CAAC,GAAG,CAAC,IAAO,CAAA,CAAE,QAAS,CAAA,EAAM,KAAM,CAAC,EAAG,QAAS,CAAC,CAAE,CAAA,KAEtF,MAAM,GACH,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,AAAC,IACL,IAAM,EAAU,EAAK,MAAM,CAAC,EAAI,OAAO,EACvC,EAAQ,GACR,EAAQ,GACR,EAAW,CAAA,GAIX,OAAO,aAAa,CAAC,IAAI,MAAM,WACjC,GACJ,WAYmC,mBAInC,MACE,UAAC,MAAI,EACH,UAAU,qBACV,QAAS,EACT,WAAW,aACX,SAAU,EACV,WAAY,EACZ,WAAY,AAAC,QAOgC,QAN3C,UAAC,MAAI,CAAC,IAAI,EACR,QAAS,CAAC,UAAC,cAA2B,QAArB,sBAA+B,UAAC,cAA2B,QAArB,sBAA8B,UAErF,WAAC,UAAQ,EAAC,MAAM,IAAC,MAAO,CAAA,EAAO,QAAS,EAAK,OAAO,CAAE,MAAM,cAC1D,UAAC,MAAI,CAAC,IAAI,CAAC,IAAI,EACb,OAAQ,UAAC,QAAM,EAAC,IAAK,EAAK,OAAO,CAAC,KAAK,GACvC,MAAO,UAAC,KAAE,KAAK,sCAAsB,EAAA,EAAK,IAAI,YAAT,SAAA,EAAW,IAAI,GACpD,YAAY,0FAEd,UAAC,gBAAI,qBAMjB"}