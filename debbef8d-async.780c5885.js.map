{"version":3,"sources":["components/list/demo/virtual-list.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/list/demo/virtual-list.tsx?watch=parent';import React, { useEffect, useState } from 'react';\nimport { Avatar, List, message } from 'antd';\nimport VirtualList from 'rc-virtual-list';\n\ninterface UserItem {\n  email: string;\n  gender: string;\n  name: {\n    first: string;\n    last: string;\n    title: string;\n  };\n  nat: string;\n  picture: {\n    large: string;\n    medium: string;\n    thumbnail: string;\n  };\n}\n\nconst fakeDataUrl =\n  'https://randomuser.me/api/?results=20&inc=name,gender,email,nat,picture&noinfo';\nconst ContainerHeight = 400;\n\nconst App: React.FC = () => {\n  const [data, setData] = useState<UserItem[]>([]);\n\n  const appendData = () => {\n    fetch(fakeDataUrl)\n      .then((res) => res.json())\n      .then((body) => {\n        setData(data.concat(body.results));\n        message.success(`${body.results.length} more items loaded!`);\n      });\n  };\n\n  useEffect(() => {\n    appendData();\n  }, []);\n\n  const onScroll = (e: React.UIEvent<HTMLElement, UIEvent>) => {\n    // Refer to: https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#problems_and_solutions\n    if (Math.abs(e.currentTarget.scrollHeight - e.currentTarget.scrollTop - ContainerHeight) <= 1) {\n      appendData();\n    }\n  };\n\n  return (\n    <List>\n      <VirtualList\n        data={data}\n        height={ContainerHeight}\n        itemHeight={47}\n        itemKey=\"email\"\n        onScroll={onScroll}\n      >\n        {(item: UserItem) => (\n          <List.Item key={item.email}>\n            <List.Item.Meta\n              avatar={<Avatar src={item.picture.large} />}\n              title={<a href=\"https://ant.design\">{item.name.last}</a>}\n              description={item.email}\n            />\n            <div>Content</div>\n          </List.Item>\n        )}\n      </VirtualList>\n    </List>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"qOAuEA,+CAAA,4CAvEO,oBAAwI,gBACzG,oBACd,aAqExB,EA/CsB,KACpB,GAAM,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAa,EAAE,EAEzC,EAAa,KACjB,MAPF,kFAQK,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,AAAC,IACL,EAAQ,EAAK,MAAM,CAAC,EAAK,OAAO,GAChC,SAAO,CAAC,OAAO,CAAC,CAAC,EAAE,EAAK,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,EAC7D,GACJ,QAEA,GAAA,WAAS,EAAC,KACR,IACF,EAAG,EAAE,EAUH,UAAC,MAAI,WACH,UAAC,SAAW,EACV,KAAM,EACN,OA7BgB,IA8BhB,WAAY,GACZ,QAAQ,QACR,SAdW,AAAC,IAE4E,GAAxF,KAAK,GAAG,CAAC,EAAE,aAAa,CAAC,YAAY,CAAG,EAAE,aAAa,CAAC,SAAS,CApBjD,MAqBlB,IAEJ,WAWO,AAAC,GACA,WAAC,MAAI,CAAC,IAAI,YACR,UAAC,MAAI,CAAC,IAAI,CAAC,IAAI,EACb,OAAQ,UAAC,QAAM,EAAC,IAAK,EAAK,OAAO,CAAC,KAAK,GACvC,MAAO,UAAC,KAAE,KAAK,8BAAsB,EAAK,IAAI,CAAC,IAAI,GACnD,YAAa,EAAK,KAAK,GAEzB,UAAC,gBAAI,cANS,EAAK,KAAK,MAYpC"}