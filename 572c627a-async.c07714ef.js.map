{"version":3,"sources":["components/tag/demo/animation.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/ant-design/ant-design/components/tag/demo/animation.tsx?watch=parent';import React, { useEffect, useRef, useState } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport type { InputRef } from 'antd';\nimport { Input, Tag, theme } from 'antd';\nimport { TweenOneGroup } from 'rc-tween-one';\n\nconst App: React.FC = () => {\n  const { token } = theme.useToken();\n  const [tags, setTags] = useState(['Tag 1', 'Tag 2', 'Tag 3']);\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef<InputRef>(null);\n\n  useEffect(() => {\n    if (inputVisible) {\n      inputRef.current?.focus();\n    }\n  }, [inputVisible]);\n\n  const handleClose = (removedTag: string) => {\n    const newTags = tags.filter((tag) => tag !== removedTag);\n    console.log(newTags);\n    setTags(newTags);\n  };\n\n  const showInput = () => {\n    setInputVisible(true);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputConfirm = () => {\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      setTags([...tags, inputValue]);\n    }\n    setInputVisible(false);\n    setInputValue('');\n  };\n\n  const forMap = (tag: string) => (\n    <span key={tag} style={{ display: 'inline-block' }}>\n      <Tag\n        closable\n        onClose={(e) => {\n          e.preventDefault();\n          handleClose(tag);\n        }}\n      >\n        {tag}\n      </Tag>\n    </span>\n  );\n\n  const tagChild = tags.map(forMap);\n\n  const tagPlusStyle: React.CSSProperties = {\n    background: token.colorBgContainer,\n    borderStyle: 'dashed',\n  };\n\n  return (\n    <>\n      <div style={{ marginBottom: 16 }}>\n        <TweenOneGroup\n          appear={false}\n          enter={{ scale: 0.8, opacity: 0, type: 'from', duration: 100 }}\n          leave={{ opacity: 0, width: 0, scale: 0, duration: 200 }}\n          onEnd={(e) => {\n            if (e.type === 'appear' || e.type === 'enter') {\n              (e.target as any).style = 'display: inline-block';\n            }\n          }}\n        >\n          {tagChild}\n        </TweenOneGroup>\n      </div>\n      {inputVisible ? (\n        <Input\n          ref={inputRef}\n          type=\"text\"\n          size=\"small\"\n          style={{ width: 78 }}\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputConfirm}\n          onPressEnter={handleInputConfirm}\n        />\n      ) : (\n        <Tag onClick={showInput} style={tagPlusStyle}>\n          <PlusOutlined /> New Tag\n        </Tag>\n      )}\n    </>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOAkGA,+CAAA,4BAlGO,oBAA4I,gBACtH,gBAEK,gBACJ,YA8F9B,EA5FsB,KACpB,GAAM,CAAE,MAAA,CAAK,CAAE,CAAG,OAAK,CAAC,QAAQ,GAC1B,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAC,CAAC,QAAS,QAAS,QAAQ,EACtD,CAAC,EAAc,EAAgB,CAAG,GAAA,UAAQ,EAAC,CAAA,GAC3C,CAAC,EAAY,EAAc,CAAG,GAAA,UAAQ,EAAC,IACvC,EAAW,GAAA,QAAM,EAAW,MAElC,GAAA,WAAS,EAAC,KACR,GAAI,EAAc,KAChB,UAAA,EAAA,EAAS,OAAO,YAAhB,GAAA,EAAkB,KAAK,GACzB,CACF,EAAG,CAAC,EAAa,EAEjB,IAAM,EAAc,AAAC,IACnB,IAAM,EAAU,EAAK,MAAM,CAAC,AAAC,GAAQ,IAAQ,GAC7C,QAAQ,GAAG,CAAC,GACZ,EAAQ,GACV,EAUM,EAAqB,KACrB,GAAc,AAA6B,KAA7B,EAAK,OAAO,CAAC,IAC7B,EAAQ,IAAI,EAAM,EAAW,EAE/B,EAAgB,CAAA,GAChB,EAAc,IAChB,EAgBM,EAAW,EAAK,GAAG,CAdV,AAAC,GACd,UAAC,QAAe,MAAO,CAAE,QAAS,cAAe,WAC/C,UAAC,KAAG,EACF,QAAQ,IACR,QAAS,AAAC,IACR,EAAE,cAAc,GAChB,EAAY,GACd,WAEC,KARM,IAeP,EAAoC,CACxC,WAAY,EAAM,gBAAgB,CAClC,YAAa,QACf,EAEA,MACE,iCACE,UAAC,OAAI,MAAO,CAAE,aAAc,EAAG,WAC7B,UAAC,eAAa,EACZ,OAAQ,CAAA,EACR,MAAO,CAAE,MAAO,GAAK,QAAS,EAAG,KAAM,OAAQ,SAAU,GAAI,EAC7D,MAAO,CAAE,QAAS,EAAG,MAAO,EAAG,MAAO,EAAG,SAAU,GAAI,EACvD,MAAO,AAAC,IACF,CAAA,AAAW,WAAX,EAAE,IAAI,EAAiB,AAAW,UAAX,EAAE,IAAI,AAAW,GAC1C,CAAA,AAAC,EAAE,MAAM,CAAS,KAAK,CAAG,uBAAsB,EAEpD,WAEC,MAGJ,EACC,UAAC,OAAK,EACJ,IAAK,EACL,KAAK,OACL,KAAK,QACL,MAAO,CAAE,MAAO,EAAG,EACnB,MAAO,EACP,SAxDkB,AAAC,IACzB,EAAc,EAAE,MAAM,CAAC,KAAK,EAC9B,EAuDQ,OAAQ,EACR,aAAc,IAGhB,WAAC,KAAG,EAAC,QAjEO,KAChB,EAAgB,CAAA,GAClB,EA+D+B,MAAO,YAC9B,UAAC,cAAY,KAAG,iBAK1B"}